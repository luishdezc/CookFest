<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Perfil | CookFest</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <link rel="stylesheet" href="../styles/navbar.css">
  <link rel="stylesheet" href="../styles/perfil.css">
  <style>
    .profile-avatar {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  
  <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
    <div class="container">
      <span class="material-symbols-outlined text-white">dining</span>
      <a class="navbar-brand text-white fw-bold" href="/home">CookFest</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
  
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link text-white" href="/recetas">
              <span class="material-symbols-outlined">skillet</span>
              Recetas
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="/comunidad">
              <span class="material-symbols-outlined">groups</span>
              Comunidad
            </a>
          </li>
        </ul>
  
        <ul class="navbar-nav align-items-center">
          <li class="nav-item">
            <form class="d-flex" id="formSearchIndex">
              <input
                class="form-control me-2"
                id="searchQuery"
                type="search"
                placeholder="Buscar..."
                aria-label="Buscar"
              >
              <button class="btn text-white" type="submit">
                <span class="material-symbols-outlined">search</span>
              </button>
            </form>
          </li>
  
          <li id="adminTab" class="nav-item ms-3" style="display:none;">
            <a class="btn btn-outline-light" href="/admin">
              <span class="material-symbols-outlined">admin_panel_settings</span>
              Admin
            </a>
          </li>
  
          <li id="loginTab" class="nav-item ms-3">
            <a class="btn btn-light" href="/login">Iniciar Sesión</a>
          </li>
  
          <li id="registerTab" class="nav-item ms-2">
            <a class="btn btn-outline-light" href="/register">Registrarme</a>
          </li>
  
          <li id="userTab" class="nav-item ms-3" style="display:none;"></li>
  
          <li id="logoutTab" class="nav-item ms-2" style="display:none;">
            <button id="btnLogout" class="btn btn-outline-light">Cerrar Sesión</button>
          </li>
        </ul>
      </div>
    </div>
  </nav> 

  <div class="container my-5">
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="profile-card">
          <div class="profile-header text-center">
            <img id="avatarImage" src="https://cdn-icons-png.flaticon.com/512/9131/9131529.png" alt="Avatar" class="profile-avatar mb-3">
            <h2 id="userName">Cargando...</h2>
            <p id="userEmail">cargando@email.com</p>
          </div>
          <div class="profile-stats">
            <div class="stat">
              <span class="stat-number" id="recetasFavCount">0</span>
              <span class="stat-label">Favoritas</span>
            </div>
            <div class="stat">
              <span class="stat-number" id="recetasPublicadasCount">0</span>
              <span class="stat-label">Publicadas</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-8">
        <ul class="nav nav-tabs mb-4" id="profileTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="favoritas-tab" data-bs-toggle="tab" data-bs-target="#favoritas" type="button" role="tab" aria-controls="favoritas" aria-selected="true">
              <span class="material-symbols-outlined align-middle">favorite</span> Recetas Favoritas
            </button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="publicadas-tab" data-bs-toggle="tab" data-bs-target="#publicadas" type="button" role="tab" aria-controls="publicadas" aria-selected="false">
              <span class="material-symbols-outlined align-middle">restaurant_menu</span> Mis Recetas
            </button>
          </li>
        </ul>

        <div class="tab-content" id="profileTabsContent">

          <div class="tab-pane fade show active" id="favoritas" role="tabpanel" aria-labelledby="favoritas-tab">
            <h3 class="mb-3">Mis Recetas Favoritas</h3>
            <div class="row row-cols-1 row-cols-md-2 g-4" id="recetasFavContainer">
              <div class="col placeholder-card">
                <div class="card h-100 placeholder-glow">
                  <div class="card-img-top placeholder" style="height: 180px;"></div>
                  <div class="card-body">
                    <h5 class="card-title placeholder-glow">
                      <span class="placeholder col-6"></span>
                    </h5>
                    <p class="card-text placeholder-glow">
                      <span class="placeholder col-7"></span>
                      <span class="placeholder col-4"></span>
                      <span class="placeholder col-4"></span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="tab-pane fade" id="publicadas" role="tabpanel" aria-labelledby="publicadas-tab">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h3>Mis Recetas Publicadas</h3>
              <a href="/publicar_receta" class="btn btn-primary">
                <span class="material-symbols-outlined align-middle">add</span> Nueva Receta
              </a>
            </div>
            <div class="row row-cols-1 row-cols-md-2 g-4" id="recetasPublicadasContainer">
              <div class="col placeholder-card">
                <div class="card h-100 placeholder-glow">
                  <div class="card-img-top placeholder" style="height: 180px;"></div>
                  <div class="card-body">
                    <h5 class="card-title placeholder-glow">
                      <span class="placeholder col-6"></span>
                    </h5>
                    <p class="card-text placeholder-glow">
                      <span class="placeholder col-7"></span>
                      <span class="placeholder col-4"></span>
                      <span class="placeholder col-4"></span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../scripts/perfil.js"></script>
  <script src="../scripts/auth.js"></script>
</body>
</html>